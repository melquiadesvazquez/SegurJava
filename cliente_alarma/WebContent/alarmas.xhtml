<ui:composition template="/WEB-INF/template.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <ui:define name="title">
        Probar alarmas
    </ui:define>

    <ui:define name="content">
        <h1>Activar/Desactivar alarmas</h1>
        
        <h:form>
			<br/><br/>
			<h:dataTable styleClass="table table-striped table-sm" var="s" value="#{alarmasBean.sensores}" border="1" rendered="#{!empty alarmasBean.sensores}">
				<h:column>
					<f:facet name="header">Cliente</f:facet>
					#{s.cliente.nombre}
				</h:column>
				<h:column>
					<f:facet name="header">Lugar</f:facet>
					#{s.lugar}
				</h:column>
				<h:column>
					<f:facet name="header">Alerta</f:facet>
					<h:commandButton styleClass="btn btn-lg btn-outline-secondary" value="Desactivada" action="#{alarmasBean.activar(s)}" rendered="#{!s.alerta}"/>
					<h:commandButton styleClass="btn btn-lg btn-primary" value="Activada" action="#{alarmasBean.desactivar(s)}" rendered="#{s.alerta}"/>
				</h:column>
			</h:dataTable>
					
		  	<p><h:outputText value="#{alarmasBean.mensajeError}"/></p>
		</h:form>
		
	
    </ui:define>
</ui:composition>
